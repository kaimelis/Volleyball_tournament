<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mixed Beach Volleyball Tournament</title>
  <style>
    :root {
      --primary-color: #2980b9;
      --secondary-color: #34495e;
      --background-color: #f4f4f4;
      --border-color: #ddd;
      --text-color: #2c3e50;
      --warning-color: #c62828;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--background-color);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    h1, h2, h3 {
      text-align: center;
      color: var(--text-color);
      margin: 1rem 0;
    }

    /* Tab Styles */
    .tabs {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .tab {
      padding: 10px 20px;
      cursor: pointer;
      background-color: var(--border-color);
      border: 1px solid #ccc;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    .tab.active {
      background-color: var(--primary-color);
      color: white;
    }

    /* Content Styles */
    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .stage-header {
      background-color: var(--secondary-color);
      color: white;
      padding: 10px;
      margin: 20px 0;
      border-radius: 5px;
    }

    /* Table Styles */
    .table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
      background-color: white;
    }

    .table th, 
    .table td {
      border: 1px solid var(--border-color);
      padding: 12px 8px;
      text-align: center;
    }

    .table th {
      background-color: var(--primary-color);
      color: white;
    }

    .table tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    /* Match Styles */
    .winner {
      font-weight: bold;
    }

    .match-time {
      width: 15%;
      font-weight: bold;
    }

    .match-cell {
      position: relative;
      min-height: 40px;
      padding: 12px 24px 12px 8px;
    }

    .match-cell .close-btn {
      position: absolute;
      top: 4px;
      right: 4px;
      width: 16px;
      height: 16px;
      line-height: 16px;
      text-align: center;
      border-radius: 50%;
      background-color: #e0e0e0;
      color: #666;
      cursor: pointer;
      font-size: 12px;
      border: none;
      padding: 0;
      transition: all 0.2s ease;
    }

    .match-cell .close-btn:hover {
      background-color: #ff4444;
      color: white;
    }

    .occupied-court {
      background-color: #ffebee;
      color: var(--warning-color);
      font-style: italic;
    }

    /* Time Control Styles */
    .time-toggle {
      text-align: center;
      margin: 20px 0;
      padding: 10px;
      background-color: #ecf0f1;
      border-radius: 5px;
    }

    .time-toggle label {
      margin-right: 10px;
    }

    .time-toggle input[type="time"] {
      padding: 5px;
      border-radius: 3px;
    }

    /* Tournament Info Styles */
    .tournament-info {
      margin: 20px 0;
      padding: 15px;
      background-color: white;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .info-box {
      max-width: 800px;
      margin: 0 auto;
    }

    .structure-info {
      white-space: pre-line;
      padding: 10px;
      line-height: 1.5;
    }
    .match-cell {
      position: relative;
      cursor: pointer;
    }
    
    .match-editor {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      z-index: 1000;
      min-width: 300px;
      display: none;
    }

    .match-editor.active {
      display: block;
    }

    .match-editor select, 
    .match-editor input {
      width: 100%;
      padding: 8px;
      margin: 5px 0;
      border: 1px solid #ddd;
      border-radius: 4px;
    }

    .match-editor button {
      padding: 8px 16px;
      margin: 5px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .match-editor .save-btn {
      background: #4CAF50;
      color: white;
    }

    .match-editor .cancel-btn {
      background: #f44336;
      color: white;
    }

    .bracket-type {
      font-weight: bold;
      color: #666;
    }

    .teams-list {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      border: 1px solid #ddd;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      z-index: 1000;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Mixed Beach Volleyball Tournament</h1>

    <div class="tabs">
      <div class="tab active" onclick="switchTab('group-stage')">Group Stage</div>
      <div class="tab" onclick="switchTab('hard-division')">Hard Division</div>
      <div class="tab" onclick="switchTab('light-division')">Light Division</div>
    </div>

    <div id="group-stage" class="tab-content active">
      <div class="time-toggle">
        <label for="startTime">Tournament Start Time:</label>
        <input type="time" id="startTime" value="09:00">
      </div>

      <div class="tournament-info">
        <div class="info-box">
          <h3>Tournament Structure</h3>
          <div class="structure-info">
            • 24 Teams Total
            • Initial Stage: 6 Groups of 4 Teams
            • After Group Stage: Teams split into Hard and Light Divisions
            • Hard Division: Top 12 teams (4 groups of 3)
            • Light Division: Bottom 12 teams (4 groups of 3)
          </div>
        </div>
      </div>

      <div class="stage-header">
        <h2>Initial Group Stage</h2>
      </div>
      
      <div class="groups-container">
        <div class="group-row">
          <table class="table">
            <thead>
              <tr>
                <th>Group A</th>
                <th>Group B</th>
                <th>Group C</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Mix Masters</td>
                <td>Sand Fusion</td>
                <td>Dual Force</td>
              </tr>
              <tr>
                <td>Wave Alliance</td>
                <td>Beach United</td>
                <td>Team Synergy</td>
              </tr>
              <tr>
                <td>Power Pairs</td>
                <td>Coast Combo</td>
                <td>Net Balance</td>
              </tr>
              <tr>
                <td>Unity Spikers</td>
                <td>Volley Blend</td>
                <td>Sand Stars</td>
              </tr>
            </tbody>
          </table>
          
          <table class="table">
            <thead>
              <tr>
                <th>Group D</th>
                <th>Group E</th>
                <th>Group F</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Beach Kings</td>
                <td>Coastal Elite</td>
                <td>Net Ninjas</td>
              </tr>
              <tr>
                <td>Sunset Mix</td>
                <td>Sand Strikers</td>
                <td>Wave Riders</td>
              </tr>
              <tr>
                <td>Beach Dragons</td>
                <td>Power Serve</td>
                <td>Mix Elite</td>
              </tr>
              <tr>
                <td>Unity Force</td>
                <td>Volley Stars</td>
                <td>Coast Kings</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="stage-header">
        <h2>Group Stage Matches - Round Robin</h2>
      </div>
      <table class="table">
        <thead>
          <tr>
            <th>Time</th>
            <th>Court 1<br/>(Group A)</th>
            <th>Court 2<br/>(Group B)</th>
            <th>Court 3<br/>(Group C)</th>
            <th>Court 4<br/>(Group D)</th>
            <th>Court 5<br/>(Group E)</th>
            <th>Court 6<br/>(Group F)</th>
          </tr>
        </thead>
        <tbody>
          <!-- Round 1 -->
          <tr class="time-slot" data-offset="0">
            <td class="match-time">9:00 AM</td>
            <td class="match-cell">Mix Masters vs Wave Alliance</td>
            <td class="match-cell">Sand Fusion vs Beach United</td>
            <td class="match-cell">Dual Force vs Team Synergy</td>
            <td class="match-cell">Beach Kings vs Sunset Mix</td>
            <td class="match-cell">Coastal Elite vs Sand Strikers</td>
            <td class="match-cell">Net Ninjas vs Wave Riders</td>
          </tr>
          <tr class="time-slot" data-offset="20">
            <td class="match-time">9:20 AM</td>
            <td class="match-cell">Power Pairs vs Unity Spikers</td>
            <td class="match-cell">Coast Combo vs Volley Blend</td>
            <td class="match-cell">Net Balance vs Sand Stars</td>
            <td class="match-cell">Beach Dragons vs Unity Force</td>
            <td class="match-cell">Power Serve vs Volley Stars</td>
            <td class="match-cell">Mix Elite vs Coast Kings</td>
          </tr>
          <!-- Round 2 -->
          <tr class="time-slot" data-offset="40">
            <td class="match-time">9:40 AM</td>
            <td class="match-cell">Mix Masters vs Power Pairs</td>
            <td class="match-cell">Sand Fusion vs Coast Combo</td>
            <td class="match-cell">Dual Force vs Net Balance</td>
            <td class="match-cell">Beach Kings vs Beach Dragons</td>
            <td class="match-cell">Coastal Elite vs Power Serve</td>
            <td class="match-cell">Net Ninjas vs Mix Elite</td>
          </tr>
          <tr class="time-slot" data-offset="60">
            <td class="match-time">10:00 AM</td>
            <td class="match-cell">Wave Alliance vs Unity Spikers</td>
            <td class="match-cell">Beach United vs Volley Blend</td>
            <td class="match-cell">Team Synergy vs Sand Stars</td>
            <td class="match-cell">Sunset Mix vs Unity Force</td>
            <td class="match-cell">Sand Strikers vs Volley Stars</td>
            <td class="match-cell">Wave Riders vs Coast Kings</td>
          </tr>
          <!-- Round 3 -->
          <tr class="time-slot" data-offset="80">
            <td class="match-time">10:20 AM</td>
            <td class="match-cell">Mix Masters vs Unity Spikers</td>
            <td class="match-cell">Sand Fusion vs Volley Blend</td>
            <td class="match-cell">Dual Force vs Sand Stars</td>
            <td class="match-cell">Beach Kings vs Unity Force</td>
            <td class="match-cell">Coastal Elite vs Volley Stars</td>
            <td class="match-cell">Net Ninjas vs Coast Kings</td>
          </tr>
          <tr class="time-slot" data-offset="100">
            <td class="match-time">10:40 AM</td>
            <td class="match-cell">Wave Alliance vs Power Pairs</td>
            <td class="match-cell">Beach United vs Coast Combo</td>
            <td class="match-cell">Team Synergy vs Net Balance</td>
            <td class="match-cell">Sunset Mix vs Beach Dragons</td>
            <td class="match-cell">Sand Strikers vs Power Serve</td>
            <td class="match-cell">Wave Riders vs Mix Elite</td>
          </tr>
        </tbody>
      </table>
    </div>

<!-- Hard Division Section -->
<div id="hard-division" class="tab-content">
  <div class="stage-header">
    <h2>Hard Division Teams</h2>
  </div>
  <div id="availableTeams" style="display: none;">
    <div>Mix Masters</div>
    <div>Wave Alliance</div>
    <div>Net Ninjas</div>
    <div>Sand Fusion</div>
    <div>Beach United</div>
    <div>Net Balance</div>
    <div>Dual Force</div>
    <div>Team Synergy</div>
    <div>Coast Combo</div>
    <div>Beach Kings</div>
    <div>Coastal Elite</div>
    <div>Power Pairs</div>
  </div>
  <div class="stage-header">
    <h2>Match Schedule - 12 Team Double Elimination</h2>
    <p>Click on any match to edit teams and bracket type</p>
  </div>
  
  <table class="table">
    <thead>
      <tr>
        <th>Round</th>
        <th>Time</th>
        <th>Court 1</th>
        <th>Court 2</th>
        <th>Court 3</th>
      </tr>
    </thead>
    <tbody>
      <!-- First Round - Winners Bracket -->
      <tr class="time-slot">
        <td>Round 1</td>
        <td class="match-time">11:00 AM</td>
        <td class="match-cell" data-match="1">Match 1 [WB]: Mix Masters vs Wave Alliance</td>
        <td class="match-cell" data-match="2">Match 2 [WB]: Sand Fusion vs Beach United</td>
        <td class="match-cell" data-match="3">Match 3 [WB]: Dual Force vs Team Synergy</td>
      </tr>
      
      <tr class="time-slot">
        <td>Round 2</td>
        <td class="match-time">11:20 AM</td>
        <td class="match-cell" data-match="4">Match 4 [WB]: Beach Kings vs Coastal Elite</td>
        <td class="match-cell" data-match="5">Match 9 [LB]: Loser M1 vs Loser M2</td>
        <td class="match-cell" data-match="6">Match 10 [LB]: Loser M3 vs Loser M4</td>
      </tr>

      <!-- Second Round -->
      <tr class="time-slot">
        <td>Round 3</td>
        <td class="match-time">11:40 AM</td>
        <td class="match-cell" data-match="7">Match 5 [WB]: Winner M1 vs Winner M2</td>
        <td class="match-cell"data-match="8">Match 6 [WB]: Winner M3 vs Winner M4</td>
        <td class="match-cell" data-match="9">Match 11 [LB]: Net Ninjas vs Loser M5</td>
      </tr>

      <tr class="time-slot">
        <td>Round 4</td>
        <td class="match-time">12:00 PM</td>
        <td class="match-cell" data-match="10">Match 7 [WB]: Net Balance vs Winner M5</td>
        <td class="match-cell" data-match="11">Match 8 [WB]: Coast Combo vs Winner M6</td>
        <td class="match-cell" data-match="12">Match 12 [LB]: Power Pairs vs Loser M6</td>
      </tr>

      <!-- Third Round -->
      <tr class="time-slot">
        <td>Round 5</td>
        <td class="match-time">12:20 PM</td>
        <td class="match-cell" data-match="13">Match 13 [WB]: Winner M7 vs Winner M8</td>
        <td class="match-cell" data-match="14">Match 15 [LB]: Winner M9 vs Winner M10</td>
        <td class="match-cell" data-match="15">Match 16 [LB]: Winner M11 vs Winner M12</td>
      </tr>

      <!-- Fourth Round -->
      <tr class="time-slot">
        <td>Round 6</td>
        <td class="match-time">12:40 PM</td>
        <td class="match-cell" data-match="16">Match 14 [WB]: Winner M13 vs Power Pairs</td>
        <td class="match-cell" data-match="17">Match 17 [LB]: Winner M15 vs Loser M13</td>
        <td class="match-cell" data-match="18">Match 18 [LB]: Winner M16 vs Loser M14</td>
      </tr>

      <!-- Fifth Round -->
      <tr class="time-slot">
        <td>Round 7</td>
        <td class="match-time">1:00 PM</td>
        <td class="match-cell" data-match="19">Match 19 [WB Final]: Winner M14 vs Net Ninjas</td>
        <td class="match-cell" data-match="20">Match 20 [LB]: Winner M17 vs Winner M18</td>
        <td class="match-cell" data-match="21">Match 21 [LB Final]: Winner M20 vs Loser M19</td>
      </tr>

      <!-- Finals -->
      <tr class="time-slot">
        <td>Finals</td>
        <td class="match-time">1:20 PM</td>
        <td class="match-cell" data-match="22">Match 22 [Finals]: Winner M19 vs Winner M21</td>
        <td class="match-cell" data-match="23"></td>
        <td class="match-cell"data-match="24" ></td>
      </tr>

      <!-- If Needed -->
      <tr class="time-slot">
        <td>Finals*</td>
        <td class="match-time">1:40 PM</td>
        <td class="match-cell" data-match="25">Match 23 [Finals*]: Rematch if Winner M21 won M22</td>
        <td class="match-cell" data-match="26"></td>
        <td class="match-cell" data-match="27"></td>
      </tr>
    </tbody>
  </table>
  
  <div class="notes">
    <p>[WB] = Winners Bracket</p>
    <p>[LB] = Losers Bracket</p>
    <p>* Match 23 only played if the team from the losers bracket (Winner M21) wins Match 22</p>
  </div>
</div>
<!-- Light Division Section - Same structure but with L prefixes instead of H -->
<div id="light-division" class="tab-content">
  <div class="stage-header">
    <h2>Light Division - Double Elimination Bracket</h2>
  </div>
  
  <table class="table">
    <thead>
      <tr>
        <th>Round</th>
        <th>Time</th>
        <th>Court 4</th>
        <th>Court 5</th>
        <th>Court 6</th>
      </tr>
    </thead>
    <tbody>
      <!-- Round 1: Matches 1,2,3 -->
      <tr class="time-slot">
        <td>Round 1</td>
        <td class="match-time">11:00 AM</td>
        <td class="match-cell">Match 1: L1-1 vs L4-3</td>
        <td class="match-cell">Match 2: L2-1 vs L3-3</td>
        <td class="match-cell">Match 3: L3-1 vs L2-3</td>
      </tr>
      [... Same structure as Hard Division but with L prefixes and Courts 4-6 ...]
    </tbody>
  </table>
  <p class="structure-info">*Match 22 only played if Winner M20 wins Match 21</p>
</div>
  </div>

    <!-- Match Editor Template -->
    <div class="match-editor" id="matchEditor">
      <h3>Edit Match <span id="matchNumber"></span></h3>
      <select id="bracketType">
        <option value="WB">Winners Bracket [WB]</option>
        <option value="LB">Losers Bracket [LB]</option>
      </select>
      <select id="team1">
        <!-- Teams will be populated by JavaScript -->
      </select>
      <select id="team2">
        <!-- Teams will be populated by JavaScript -->
      </select>
      <button class="save-btn" onclick="saveMatchChanges()">Save</button>
      <button class="cancel-btn" onclick="closeMatchEditor()">Cancel</button>
    </div>

  <script>
    class TournamentManager {
      constructor() {
        this.currentMatch = null;
        this.init();
      }

      init() {
        this.addEventListeners();
        this.updateTimes();
        this.addRemoveButtons();
        this.populateTeamSelects();
      }

      addEventListeners() {
        document.getElementById('startTime').addEventListener('change', () => this.updateTimes());
        document.querySelectorAll('.match-cell').forEach(cell => {
          cell.addEventListener('click', (e) => this.openMatchEditor(e.target));
        });

        // Close editor when clicking outside
        document.addEventListener('click', (e) => {
          const editor = document.getElementById('matchEditor');
          const cell = e.target.closest('.match-cell');
          if (!editor.contains(e.target) && !cell) {
            this.closeMatchEditor();
          }
        });
      }

      addRemoveButtons() {
        document.querySelectorAll('.match-cell').forEach(cell => {
          if (cell.textContent.trim() !== '' && !cell.querySelector('.close-btn')) {
            const closeButton = document.createElement('button');
            closeButton.textContent = '×';
            closeButton.className = 'close-btn';
            closeButton.onclick = () => this.removeGame(closeButton);
            cell.appendChild(closeButton);
          }
        });
      }

      removeGame(button) {
        const cell = button.parentElement;
        cell.innerHTML = '';
        this.updateTimes();
      }

      updateTimes() {
        const startTimeInput = document.getElementById('startTime').value;
        const [baseHour, baseMinute] = startTimeInput.split(':');
        
        let currentHour = parseInt(baseHour);
        let currentMinute = parseInt(baseMinute);
      
        document.querySelectorAll('.time-slot').forEach((slot, index) => {
          if (Array.from(slot.children).slice(1).every(cell => cell.textContent.trim() === '')) {
            return;
          }
      
          if (index > 0) {
            currentMinute += 20;
            if (currentMinute >= 60) {
              currentHour++;
              currentMinute -= 60;
            }
          }
      
          const period = currentHour >= 12 ? 'PM' : 'AM';
          const formattedHour = currentHour % 12 || 12;
          const timeString = `${formattedHour}:${currentMinute.toString().padStart(2, '0')} ${period}`;
          slot.querySelector('.match-time').textContent = timeString;
        });
      }
    
      populateTeamSelects() {
        const teams = Array.from(document.getElementById('availableTeams').children)
          .map(div => div.textContent);
        
        const selects = ['team1', 'team2'];
        selects.forEach(selectId => {
          const select = document.getElementById(selectId);
          select.innerHTML = '<option value="">Select Team</option>';
          teams.forEach(team => {
            const option = document.createElement('option');
            option.value = team;
            option.textContent = team;
            select.appendChild(option);
          });
        });
      }

      openMatchEditor(cell) {
        const editor = document.getElementById('matchEditor');
        const matchNumber = cell.dataset.match;
        const content = cell.textContent;
        
        // Parse current match content
        const bracketMatch = content.match(/\[(WB|LB)\]/);
        const bracketType = bracketMatch ? bracketMatch[1] : 'WB';
        const teamsMatch = content.match(/:\s*([^vs]+)\s+vs\s+(.+)$/);
        const team1 = teamsMatch ? teamsMatch[1].trim() : '';
        const team2 = teamsMatch ? teamsMatch[2].trim() : '';

        // Set values in editor
        document.getElementById('matchNumber').textContent = matchNumber;
        document.getElementById('bracketType').value = bracketType;
        document.getElementById('team1').value = team1;
        document.getElementById('team2').value = team2;

        // Position and show editor
        editor.style.display = 'block';
        this.currentMatch = cell;
      }

      closeMatchEditor() {
        document.getElementById('matchEditor').style.display = 'none';
        this.currentMatch = null;
      }

      saveMatchChanges() {
        if (!this.currentMatch) return;

        const matchNum = this.currentMatch.dataset.match;
        const bracketType = document.getElementById('bracketType').value;
        const team1 = document.getElementById('team1').value;
        const team2 = document.getElementById('team2').value;

        if (team1 && team2) {
          this.currentMatch.textContent = `Match ${matchNum} [${bracketType}]: ${team1} vs ${team2}`;
        }

        this.closeMatchEditor();
      }
    }

    function switchTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      
      document.getElementById(tabId).classList.add('active');
      event.target.classList.add('active');
    }

    document.addEventListener('DOMContentLoaded', () => {
      new TournamentManager();
    });

    function saveMatchChanges() {
      window.tournamentManager.saveMatchChanges();
    }

    function closeMatchEditor() {
      window.tournamentManager.closeMatchEditor();
    }

    // Store the instance globally
    window.tournamentManager = new TournamentManager();

  </script>
</body>
</html>